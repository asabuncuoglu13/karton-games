<!DOCTYPE html>
<html lang="en">
<head>
    <title>Hello!</title>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>

    <link href="https://fonts.googleapis.com/css?family=Poppins:500,700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="./style.css"/>

    <link href="../css/editor.css" rel="stylesheet">
    <script src="../js/utils.js"></script>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.9.0/p5.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/fuse.js@6.0.4"></script>

    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@1.3.1/dist/tf.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@teachablemachine/image@0.8/dist/teachablemachine-image.min.js"></script>
    <script
            src="./teachablemachine.min.js"
            type="text/javascript"
    ></script>
    <script src="./script.js" defer></script>
    <script src="../js/classifier.js"></script>
    <script src="../js/document.js"></script>
</head>
<body>
<main id="container">
    <div id="intro" class="flex-section">
        <h1>Teachable Flappy Bird Programming</h1>
        <p id="intro-copy" class="copy">
            This demo shows how you can bring machine learning to code a web-based game like Flappy Bird. Here, you'll introduce some objects to use them as programming commands. Then you will use these objects to program Flappy Bird game.
            Remix it to make your own project.
        </p>
    </div>
    <script>
        $(function () {
            $("#code-list").sortable().disableSelection();
            $("#code-list").data("ui-sortable").floating = true;
        });
        window.onload = function () {
            setTimeout(function () {
                startClassifier();
            }, 0);
        };
    </script>
    <div>
        <div class="grid-container">
            <div class="grid-item video-container" id="video-container">
                <div>Image Model</div>
                <div id="webcam-container"></div>
                <div id="label-container"></div>
            </div>
            <div class="grid-item code-container" id="code-container">
                <ul id="code-list"></ul>
            </div>
            <div class="grid-item run-button-container" id="run-button-container">
                <img src="../img/run.png" alt="run button" style="width: 80%; height: auto">
            </div>
            <div class="grid-item game-container" id="game-container"></div>
            <div class="grid-item level-container" id="level-container"></div>
        </div>
    </div>
    <script src="flappy/game/constants.js"></script>
    <script src="flappy/game/bird.js"></script>
    <script src="flappy/game/floor.js"></script>
    <script src="flappy/game/gameButton.js"></script>
    <script src="flappy/game/gameText.js"></script>
    <script src="flappy/game/pipe.js"></script>
    <script src="flappy/index.js"></script>
    <script src="flappy/interpreter.js"></script>
    <script src="flappy/code.js"></script>
    <script>
        String.prototype.format = function () {
            var args = [].slice.call(arguments);
            return this.replace(/({\d+})/g, function (a) {
                return args[+(a.substr(1, a.length - 2)) || 0];
            });
        };
        initInterpreter();
        runP5Code();
        $("#run-button-container").click(function () {
            runCards();
        });
    </script>
    <div id="buttons" class="flex-section">
        <tm-button id="train-model-button" label="Train Model"></tm-button>
    </div>
    <a id="model-load" href="#">... already have a trained model?</a>
</main>
</body>
</html>
